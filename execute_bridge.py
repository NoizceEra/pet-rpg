from web3 import Web3
from eth_account import Account
import json

# Polygon RPC
RPC_URL = "https://polygon-rpc.com"
w3 = Web3(Web3.HTTPProvider(RPC_URL))

# Wallet
PRIVATE_KEY = "0x63d78fdcef72c7afe10aa7df9e1cf34ada39c4f152451ea2843dbf79bf0bc881"
account = Account.from_key(PRIVATE_KEY)

# LI.FI Bridge Data
TO_ADDRESS = "0x1231DEB6f5749EF6cE6943a275A1D3E7486F4EaE"
DATA = "0x1794958f0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000004003935bfbb5e6dd6e2262e9a8bfb82aaeff538bb03aa1891817477b9d750d62b490000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000e5363dd6410e06ca5a2e2ab46854fd044e16612f00000000000000000000000000000000000000000000000000000000000f387c00000000000000000000000000000000000000000000000000000000000021050000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000066163726f737300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008437962657250617900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000bd6c7b0d2f68c2b7805d88388319cfb6ecb50ea9000000000000000000000000bd6c7b0d2f68c2b7805d88388319cfb6ecb50ea90000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c33590000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c335900000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000084eedd56e10000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009c4000000000000000000000000890cacd9dec1e1409c6598da18dc3d634e600b4500000000000000000000000000000000000000000000000000000000000000000000000000000000e5363dd6410e06ca5a2e2ab46854fd044e16612f000000000000000000000000e5363dd6410e06ca5a2e2ab46854fd044e16612f0000000000000000000000003c499c542cef5e3811e1192ce70d8cc03d5c3359000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda0291300000000000000000000000000000000000000000000000000000000000f1b6d0000000000000000000000000000000000000000000000000dc6380393561b97000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000698f3bbb00000000000000000000000000000000000000000000000000000000698f5fd0000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000000"

# Build bridge tx
nonce = w3.eth.get_transaction_count(account.address)
tx = {
    'from': account.address,
    'to': Web3.to_checksum_address(TO_ADDRESS),
    'data': DATA,
    'nonce': nonce,
    'gas': 500000,
    'gasPrice': w3.eth.gas_price,
    'chainId': 137,
    'value': 0
}

# Sign and send
signed_tx = account.sign_transaction(tx)
tx_hash = w3.eth.send_raw_transaction(signed_tx.raw_transaction)

print(f"Bridge TX Hash: {tx_hash.hex()}")
